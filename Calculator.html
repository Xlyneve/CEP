<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Drug & Age Calculators</title>
  <style>
 body::before {
      content: "";
      position: fixed;
      top: 0; left: 0;
      width: 100vw; height: 100vh;
      background: url('2b.png') no-repeat center center fixed;
      background-size: cover;
      filter: blur(6px);
      z-index: -1;
      pointer-events: none;
    }

    body {
      font-family: fors, sans-serif;
      font-size: 14px;
      padding: 40px;
      margin: 0;
      background: transparent; /* transparent to show bg image */
      color: #111;
      min-height: 100vh;
      position: relative;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }

@font-face {
  font-family: 'fors';
  src: url('fors.ttf') format('truetype');
}
h1 {
      margin-bottom: 30px;
      text-align: center;
      color: #222;
      text-shadow: 0 1px 3px rgba(255 255 255 / 0.7);
    }

    .nav {
      margin-bottom: 30px;
    }

    .nav a {
      text-decoration: none;
      margin-right: 15px;
      background: rgba(255 255 255 / 0.25);
      color: #222;
      padding: 8px 12px;
      border-radius: 8px;
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      border: 1px solid rgba(255 255 255 / 0.3);
      box-shadow: 0 4px 12px rgba(255 255 255 / 0.15) inset;
      transition: background 0.3s ease;
    }

    .nav a:hover {
      background: rgba(255 255 255 / 0.4);
    }

    .tile-container {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 20px;
      padding: 20px 0;
    }

    .calculator {
	padding: 20px;
      border-radius: 16px;
      background: rgba(255 255 255 / 0.1);
      border: 1px solid rgba(255 255 255 / 0.3);
  backdrop-filter: blur(15px);
  -webkit-backdrop-filter: blur(15px);
  border: 1px solid rgba(255 255 255 / 0.3);
  box-shadow:
    0 8px 32px rgba(31, 38, 135, 0.05),
    0 0 0 1px rgba(255 255 255 / 0.1);
}


    .calculator:hover {
      transform: translateY(-4px);
      box-shadow:
        0 12px 48px rgba(31, 38, 135, 0.12),
        0 0 15px rgba(255 255 255 / 0.3);
    }

    /* Remove hardcoded background colors on calculators */
    /* We'll use the glass effect for all */

    label {
      font-weight: bold;
      margin-bottom: 6px;
      display: block;
      color: #222;
      text-shadow: 0 1px 2px rgba(255 255 255 / 0.5);
    }
/* Glassy transparent background colors for calculator tiles */
.calculator:nth-child(1) { background-color: rgba(236, 231, 225, 0.15); }   
.calculator:nth-child(2) { background-color: rgba(219, 212, 206, 0.15); }   
.calculator:nth-child(3) { background-color: rgba(187, 174, 165, 0.15); }   
.calculator:nth-child(4) { background-color: rgba(221, 211, 210, 0.15); }   
.calculator:nth-child(5) { background-color: rgba(179, 179, 179, 0.15); }   
.calculator:nth-child(6) { background-color: rgba(236, 231, 225, 0.15); }  
.calculator:nth-child(7) { background-color: rgba(219, 212, 206, 0.15); }  


label {
  font-weight: bold;
  margin-bottom: 6px;
  display: block;
}

input[type="date"], input[type="number"] {
  padding: 10px;
  width: 240px;
  border-radius: 8px;
  border: 1px solid #ccc;
  margin-bottom: 10px;
  font-family: fors, sans-serif;
}

.result {
  margin-top: 10px;
  font-weight: bold;
}

h2 {
      font-size: 18px;
      font-family: fors, sans-serif;
      text-decoration: underline;
      margin-top: 0;
      color: #2a2a2a;
      text-shadow: 0 1px 3px rgba(255 255 255 / 0.6);
    }
	header {
      margin-bottom: 30px;
      position: relative;
      z-index: 10;
    }
	
    .home-button {
      position: fixed;
      top: 20px;
      left: 20px;
      background: rgba(255 255 255 / 0.25);
      border: 1px solid rgba(255 255 255 / 0.4);
      padding: 8px 16px;
      font-size: 18px;
      color: #222;
      border-radius: 16px;
      cursor: pointer;
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      box-shadow: 0 4px 15px rgba(255 255 255 / 0.15) inset;
      transition: all 0.3s ease;
      text-decoration: none;
      z-index: 999;
    }

    .home-button:hover {
      background-color: rgba(255 255 255 / 0.45);
      box-shadow: 0 6px 20px rgba(255 255 255 / 0.4) inset;
      transform: scale(1.05);
      color: #000;
   }

@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(20px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

  </style>
</head>
<body>

 <header>
  <a href="home.html" class="home-button">Home</a>
  <h1>Drug & Age Calculators</h1>
</header>


  <div class="tile-container">

    <div class="calculator">
      <h2>Depo Calculator</h2>
      <label for="lastGiven"><strong>LAST GIVEN</strong></label>
      <input type="date" id="lastGiven" onchange="updateDates()">
      <div><strong>RECALL IN (+70 days):</strong> <span id="recallIn">-</span></div>
      <div><strong>DUE (+84 days):</strong> <span id="due">-</span></div>
    </div>

    <div class="calculator">
      <h2>Add Months to Date</h2>
      <label for="baseDate">Start Date:</label>
      <input type="date" id="baseDate">
      <label for="months">Months to Add:</label>
      <input type="number" id="months">
      <div class="result" id="monthsResult">Result: </div>
    </div>

    <div class="calculator">
      <h2>Add Weeks to Date</h2>
      <label for="baseDateWeeks">Start Date:</label>
      <input type="date" id="baseDateWeeks">
      <label for="weeks">Weeks to Add:</label>
      <input type="number" id="weeks">
      <div class="result" id="weeksResult">Result: </div>
    </div>

    <div class="calculator">
      <h2>Age on Particular Date</h2>
      <label for="dobParticular">Date of Birth:</label>
      <input type="date" id="dobParticular">
      <label for="particularDate">Particular Date:</label>
      <input type="date" id="particularDate">
      <div class="result" id="ageOnDateResult">Age: </div>
    </div>

    <div class="calculator">
      <h2>DOB + 25 / 45 Years</h2>
      <label for="dobPlus">Date of Birth:</label>
      <input type="date" id="dobPlus">
      <div class="result" id="dob25">DOB + 25 Years: </div>
      <div class="result" id="dob45">DOB + 45 Years: </div>
    </div>

    <div class="calculator">
      <h2>Age in Years and Months</h2>
      <label for="dobYM">Date of Birth:</label>
      <input type="date" id="dobYM">
      <div class="result" id="ageYMResult">Age: </div>
    </div>

    <div class="calculator">
      <h2>Age Calculator</h2>
      <label for="dob">Date of Birth:</label>
      <input type="date" id="dob">
      <div class="result" id="ageResult">Age: </div>
    </div>

  </div>

  <script>
    function formatDate(date) {
      const options = { day: '2-digit', month: 'long', year: 'numeric' };
      return date.toLocaleDateString('en-GB', options);
    }

    function updateDates() {
      const input = document.getElementById("lastGiven").value;
      if (!input) return;

      const givenDate = new Date(input);
      const recallIn = new Date(givenDate);
      recallIn.setDate(recallIn.getDate() + 70);

      const due = new Date(givenDate);
      due.setDate(due.getDate() + 84);

      document.getElementById("recallIn").textContent = formatDate(recallIn);
      document.getElementById("due").textContent = formatDate(due);
    }

    document.addEventListener('DOMContentLoaded', function () {
      const baseDate = document.getElementById('baseDate');
      const months = document.getElementById('months');
      const monthsResult = document.getElementById('monthsResult');

      function calculateMonths() {
        if (baseDate.value && months.value) {
          const start = new Date(baseDate.value);
          start.setMonth(start.getMonth() + Number(months.value));
          monthsResult.textContent = 'Result: ' + formatDate(start);
        }
      }

      baseDate.addEventListener('change', calculateMonths);
      months.addEventListener('input', calculateMonths);

      const baseDateWeeks = document.getElementById('baseDateWeeks');
      const weeks = document.getElementById('weeks');
      const weeksResult = document.getElementById('weeksResult');

      function calculateWeeks() {
        if (baseDateWeeks.value && weeks.value) {
          const start = new Date(baseDateWeeks.value);
          start.setDate(start.getDate() + Number(weeks.value) * 7);
          weeksResult.textContent = 'Result: ' + formatDate(start);
        }
      }

      baseDateWeeks.addEventListener('change', calculateWeeks);
      weeks.addEventListener('input', calculateWeeks);

      const dobPlus = document.getElementById('dobPlus');
      const dob25 = document.getElementById('dob25');
      const dob45 = document.getElementById('dob45');

      dobPlus.addEventListener('change', () => {
        const date = new Date(dobPlus.value);
        if (dobPlus.value) {
          const plus25 = new Date(date);
          plus25.setFullYear(plus25.getFullYear() + 25);
          dob25.textContent = 'DOB + 25 Years: ' + formatDate(plus25);

          const plus45 = new Date(date);
          plus45.setFullYear(plus45.getFullYear() + 45);
          dob45.textContent = 'DOB + 45 Years: ' + formatDate(plus45);
        }
      });

      const dobParticular = document.getElementById('dobParticular');
      const particularDate = document.getElementById('particularDate');
      const ageOnDateResult = document.getElementById('ageOnDateResult');

      function calculateAgeOnDate() {
        if (dobParticular.value && particularDate.value) {
          const birthDate = new Date(dobParticular.value);
          const targetDate = new Date(particularDate.value);

          let years = targetDate.getFullYear() - birthDate.getFullYear();
          let months = targetDate.getMonth() - birthDate.getMonth();

          if (targetDate.getDate() < birthDate.getDate()) {
            months--;
          }

          if (months < 0) {
            years--;
            months += 12;
          }

          if (targetDate < birthDate) {
            ageOnDateResult.textContent = 'Age: Invalid (future DOB)';
          } else {
            ageOnDateResult.textContent = `Age: ${years} years and ${months} months`;
          }
        }
      }

      dobParticular.addEventListener('change', calculateAgeOnDate);
      particularDate.addEventListener('change', calculateAgeOnDate);

      const dob = document.getElementById('dob');
      const ageResult = document.getElementById('ageResult');

      dob.addEventListener('change', () => {
        const birthDate = new Date(dob.value);
        const today = new Date();
        let age = today.getFullYear() - birthDate.getFullYear();
        const m = today.getMonth() - birthDate.getMonth();
        if (m < 0 || (m === 0 && today.getDate() < birthDate.getDate())) {
          age--;
        }
        ageResult.textContent = 'Age: ' + age + ' years';
      });

      const dobYM = document.getElementById('dobYM');
      const ageYMResult = document.getElementById('ageYMResult');

      dobYM.addEventListener('change', () => {
        const birthDate = new Date(dobYM.value);
        const today = new Date();
        let years = today.getFullYear() - birthDate.getFullYear();
        let months = today.getMonth() - birthDate.getMonth();

        if (today.getDate() < birthDate.getDate()) {
          months--;
        }

        if (months < 0) {
          years--;
          months += 12;
        }

        if (today < birthDate) {
          ageYMResult.textContent = 'Age: Invalid (future DOB)';
        } else {
          ageYMResult.textContent = `Age: ${years} years and ${months} months`;
        }
      });
    });
  </script>
</body>
</html>
